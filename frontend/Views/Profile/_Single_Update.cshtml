@model update
<div id='project-update-header'>
    <div id='support'>
        <div id='publisher-container'>
            <img alt='' class='photo-publisher' src='@Model.user.Image'>
            <a class='name' href='@Url.Action("Details", "Profile", new { id = Model.UserID })'>
                @Model.user.Name
                @Model.user.Lastname
            </a>
        </div>
        <hr class='spacer-donate'>
        <div class='share'>
            <div class='facebook'>
            </div>
            <div class='twitter'>
            </div>
            <div class='googleplus'>
            </div>
        </div>
        <div class='donate'>
            <div class='clear-box'>
            </div>
            <div class='button_container'>
                <div class='corner_left'>
                </div>
                <h4 class='buttons yellow_button'>
                    <a href='@Url.Action("Details", "Projects", new { id = Model.ProjectID })'>Donate</a>
                </h4>
                <div class='corner_right'>
                </div>
            </div>
        </div>
    </div>
    <div class='clear'>
    </div>
    <div id='project-headline'>
        <h1 class='title'>@Model.project.Title</h1>
        <div class='icon-where'>
        </div>
        <h2 class='subtitle'>@Model.project.Location</h2>
    </div>
    <div class='tags-container'>
        <h4>
            Tags:
        </h4>
        <ul class='tags'>
            @foreach (var tag in @Model.project.tags)
            {
                <li><a href='@Url.Action("index", "Projects", new { tag = tag.Name })'>@tag.Name</a></li>
            }
        </ul>
    </div>
</div>
<div id='project-update-tab'>
    <ul class='tab'>
        <li class='active'><a href='#'>Update</a> </li>
        <li><a href='#'>Project Details</a> </li>
        <li><a href='#'>Guestbook</a> </li>
        <li><a href='#'>Ask a Question</a> </li>
    </ul>
    <hr class='tab-line'>
</div>
<ul id='info-project'>
    <li>
        <h2>@((DateTime.Now - Model.project.DateEnd).Days)</h2>
        <h3>
            Days
        </h3>
    </li>
    <li>
        <h2>
            @Model.project.donations.Select(x => x.UserID).Distinct().Count()
        </h2>
        <h3>
            Supporters
        </h3>
    </li>
    <li class='money'>
        <h2>
            <span class="euro">&#128;</span> @Model.project.donations.Sum(x => x.Amount)
        </h2>
        <h3>
            Raised of <span class="total">&#128; @Model.project.Target</span> pledged
        </h3>
    </li>
    <li class='achieved'>
        <div class='worm'>
        </div>
        <ul id='project-step'>
            @{var counter = 0;}
            @foreach (var achievement in Model.project.achievements.OrderBy(x => x.Date))
            {
                counter++;
                <li>
                    <hr class='step'>
                    <div class='main-container'>
                        <h4 class='number'>
                            @counter.
                        </h4>
                        <div class='step-container'>
                            <h3 class='step'>
                                @achievement.Title
                            </h3>
                            <h3 class='money'>
                                &#128; @achievement.Goal
                            </h3>
                        </div>
                    </div>
                </li>
            }
        </ul>
    </li>
    <hr class='info-spacer' />
</ul>
<div id='update-body'>
    <div class='single-update'>
        <div class='single-update-header'>
            <div class='date'>
                <h3 class='day'>
                    @Model.Date.Day /
                </h3>
                <h3 class='month'>
                    @Model.Date.Month /
                </h3>
                <h3 class='year'>
                    @Model.Date.Year</h3>
            </div>
            <div class='comments-container'>
                <div class='comments'>
                    <div class='arrow'>
                    </div>
                    <a href='#'>@Model.update_comment.Count Comments</a>
                </div>
                <div class='share'>
                    <div class='arrow'>
                    </div>
                    <a href='#'>Share</a>
                </div>
            </div>
            <div class='update-headline-container'>
                <div class='main-container'>
                    <p class='info-project-track'>
                        <span class="number">@((Model.Date - Model.project.DateEnd).Days)</span> days /
                        <span class="number">&#128; @Model.project.donations.Where(x => x.Date <= Model.Date).Sum(x => x.Amount)</span>
                        raised of <span class="number">&#128; @Model.project.Target</span> pledged / <span
                            class="number">@Model.project.donations.Where(x => x.Date <= Model.Date).Select(x => x.UserID).Distinct().Count()</span>
                        supporters
                    </p>
                    <div class='clear'>
                    </div>
                    <h1 class='title-update'>
                        @Model.Title
                    </h1>
                </div>
            </div>
            <div class='intro-update-container'>
                <p class='intro'>
                    @Model.Intro
                </p>
            </div>
        </div>
        @foreach (update_content content in Model.update_content)
        {
            <div class='single-update-body'>
                Html.RenderPartial("_Update_Content", content);
            </div>
        }
    </div>
    <div class='clear'>
    </div>
    <hr class='update' />
</div>
